# Cookies-based authentication

```angular2html
Клієнт  ──>  Сервер: Надсилає логін і пароль (POST /login)
               │
               │  Сервер перевіряє дані користувача (база даних)
               │
               ▼
        Якщо дані вірні:
               │
               │  Сервер створює сесію (session ID) з даними користувача
               │
               │  Сервер надсилає клієнту cookie з session ID
               │
               ▼
         Клієнт зберігає cookie (session ID)
               │
 ┌─────────────┴─────────────┐
 │                           │
 ▼                           ▼
Клієнт                  Клієнт
робить                 робить
запит до                запит до
захищеного              захищеного
ресурсу                ресурсу
  │                       │
  └───> Відправляє cookie із session ID ───────┘
                │
                ▼
      Сервер отримує cookie з session ID
                │
                ▼
      Сервер шукає сесію у сховищі (пам’ять, БД)
                │
                ▼
      Якщо сесія валідна:
                │
                │  Сервер ідентифікує користувача
                │
                │  Сервер надає доступ до ресурсу
                │
                ▼
      Якщо сесія відсутня або невалідна:
                │
                │  Сервер відповідає редіректом на сторінку логіну
                │
                ▼
         Клієнт переходить на сторінку авторизації
                │
                ▼
     Користувач повторно вводить логін/пароль

```